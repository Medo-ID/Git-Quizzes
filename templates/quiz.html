{% extends "layout.html" %}

{% block title %}
    Quiz Page
{% endblock %}

{% block main %}
    <h1 class="text-4xl text-mainBlack my-[15px] ml-2 font-bold">Quiz</h1>
    <section class="bg-white rounded-lg p-2 shadow my-4">
        <h1 class="text-xl text-center font-bold mb-4">Select type of Questions you want:</h1>
        <form action="/quiz" method="post" class="flex flex-col md:flex-row justify-evenly items-center p-5 gap-6">
            <select class="form-select" name="category" required>
                <option disabled selected>Choose Category</option>
                {% for categorie in categories %}
                    <option value="{{ categorie.id }}">{{ categorie.name }}</option>
                {% endfor %}
            </select>
            <select class="form-select" name="difficulty" required>
                <option disabled selected>Choose Difficulty</option>
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
            </select>
            <button type="submit" class="text-base font-semibold text-white bg-mainColor px-4 py-2 rounded-lg">Get Questions</button>
        </form>
    </section>
    {% if display == 'block' %}
        <section class="bg-white rounded-lg p-2 shadow hidden">
            <h1 class="text-xl text-center font-bold mb-4">10 Questions About {{ category }} - Good Luck ðŸ«¡ðŸ‘Œ</h1>
            <form action="/quiz" method="post" class="grid grid-cols-1 gap-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 my-2">
                    {% for question in data %}
                        <div class="bg-mainGrey shadow rounded-lg flex flex-col justify-evenly items-start gap-2 p-2">
                            <h1>{{ question.question }}</h1>
                            <ul>
                                {% for answer in question.incorrect_answers%}
                                    <li>{{ answer }}</li>
                                {% endfor %}
                            </ul>
                            <p>{{ question.correct_answer }}</p>
                        </div>
                    {% endfor %}
                </div>
                <button type="submit" class="text-base mx-auto w-52 font-semibold text-white bg-mainColor px-4 py-2 rounded-lg">Submit Your Answers</button>
            </form>
        </section>
    {% endif %}
{% endblock %}